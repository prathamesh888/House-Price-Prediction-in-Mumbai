<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <title>House Price Prediction</title>
  </head>
  <body
    style="
      background: url('https://i.pinimg.com/564x/02/15/25/021525507a79c115108090ff2772476c.jpg');
      background-repeat: no-repeat;
      background-size: cover;
    "
  >
    <center>
      <div class="container">
        <div class="row">
          <div style="width: 100%; height: 100%; color: white;text-shadow: 0 0 3px #FF0000, 0 0 5px #0000FF">
            <div style="text-align: center; color: yellow">
              <h1>Mumbai House Price Prediction</h1>
            </div>
            <div class="card-body">
              <form method="post" accept-charset="utf-8">
                <div style="font-size: larger; margin: 20px; font-size: 25px">
                  <label class="label"><b>Enter Area:</b></label>
                  <input
                    type="text"
                    style="
                      border-radius: 5px;
                      border: none;
                      text-align: center;
                      width: 300px;
                    "
                    id="Area"
                    name="Area"
                    placeholder="Enter Area in Sq. ft."
                  />
                </div>
                <div
                  style="
                    text-align: center;
                    font-size: larger;
                    margin: 20px;
                    font-size: 25px;
                  "
                >
                  <label class="label"><b>Select the location:</b></label>
                  <select
                    class="selectpicker"
                    style="
                      border-radius: 5px;
                      border: none;
                      text-align: center;
                      width: 300px;
                    "
                    id="location"
                    name="location"
                    required="1"
                  >
                    {% for location in locations %}
                    <option value="{{ location }}">{{ location }}</option>
                    {% endfor %}
                  </select>
                </div>
                <div
                  style="
                    text-align: center;
                    font-size: larger;
                    margin: 20px;
                    font-size: 25px;
                  "
                >
                  <label class="label"><b>Enter BHK:</b></label>
                  <input
                    type="text"
                    style="
                      border-radius: 5px;
                      border: none;
                      text-align: center;
                      width: 300px;
                    "
                    id="BHK"
                    name="BHK"
                    placeholder="Enter BHK"
                  />
                </div>
                <div
                  style="
                    text-align: center;
                    font-size: larger;
                    margin: 20px;
                    font-size: 25px;
                  "
                >
                  <label for="New" class="label"><b>New/Resale:</b></label>
                  <select
                    id="New"
                    style="
                      border-radius: 5px;
                      border: none;
                      text-align: center;
                      width: 300px;
                    "
                    name="New"
                  >
                    <option value="1">New</option>
                    <option value="0">Resale</option>
                  </select>
                </div>
                <div
                  style="
                    text-align: center;
                    font-size: larger;
                    margin: 20px;
                    font-size: 25px;
                  "
                >
                  <label for="gym" class="label"><b>Gymnasium:</b></label>
                  <select
                    id="gym"
                    style="
                      border-radius: 5px;
                      border: none;
                      text-align: center;
                      width: 300px;
                    "
                    name="gym"
                  >
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                  </select>
                </div>
                <div
                  style="
                    text-align: center;
                    font-size: larger;
                    margin: 20px;
                    font-size: 25px;
                  "
                >
                  <label for="lift" class="label"><b>Lift Available:</b></label>
                  <select
                    id="lift"
                    style="
                      border-radius: 5px;
                      border: none;
                      text-align: center;
                      width: 300px;
                    "
                    name="lift"
                  >
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                  </select>
                </div>
                <div
                  style="
                    text-align: center;
                    font-size: larger;
                    margin: 20px;
                    font-size: 25px;
                  "
                >
                  <label for="Car" class="label"><b>Car Parking:</b></label>
                  <select
                    id="Car"
                    style="
                      border-radius: 5px;
                      border: none;
                      text-align: center;
                      width: 300px;
                    "
                    name="Car"
                  >
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                  </select>
                </div>
                <div
                  style="
                    text-align: center;
                    font-size: larger;
                    margin: 20px;
                    font-size: 25px;
                  "
                >
                  <label for="security" class="label"
                    ><b>24x7 Security:</b></label
                  >
                  <select
                    id="security"
                    style="
                      border-radius: 5px;
                      border: none;
                      text-align: center;
                      width: 300px;
                    "
                    name="security"
                  >
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                  </select>
                </div>
                <div
                  style="
                    text-align: center;
                    font-size: larger;
                    margin: 20px;
                    font-size: 25px;
                  "
                >
                  <label for="Club" class="label"><b>Clubhouse:</b></label>
                  <select
                    id="Club"
                    style="
                      border-radius: 5px;
                      border: none;
                      text-align: center;
                      width: 300px;
                    "
                    name="Club"
                  >
                    <option value="1">No</option>
                    <option value="0">Yes</option>
                  </select>
                </div>
                <div
                  style="
                    text-align: center;
                    font-size: larger;
                    margin: 20px;
                    font-size: 25px;
                  "
                >
                  <label for="Pool" class="label"><b>Swimming Pool:</b></label>
                  <select
                    id="Pool"
                    style="
                      border-radius: 5px;
                      border: none;
                      text-align: center;
                      width: 300px;
                    "
                    name="Pool"
                  >
                    <option value="1">No</option>
                    <option value="0">Yes</option>
                  </select>
                </div>
                <div class="form-group">
                  <button
                    class="btn text-light btn-success"
                    onclick="send_data()"
                  >
                    Predict Price
                  </button>
                </div>
              </form>
              <br />

              <div
                class="w-75 text-dark"
                style="text-align: center; background-color: rgb(216, 238, 245)"
              >
                <h3><span id="prediction"></span></h3>
              </div>
            </div>
          </div>
        </div>
      </div>
      <script>
        function form_handler(event) {
          event.preventDefault();
        }

        function send_data() {
          document
            .querySelector("form")
            .addEventListener("submit", form_handler);

          var fwd = new FormData(document.querySelector("form"));

          var xhr = new XMLHttpRequest();

          xhr.open("POST", "/predict", true);
          document.getElementById("prediction").innerHTML =
            "Your price is predicting....";
          xhr.onreadystatechange = function () {
            if (xhr.readyState == XMLHttpRequest.DONE) {
              document.getElementById("prediction").innerHTML =
                "Prediction: Rs " + xhr.responseText+" Lakhs";
            }
          };

          xhr.onload = function () {};
          xhr.send(fwd);
        }
      </script>

      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"
      ></script>
      <script
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"
      ></script>
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"
      ></script>
    </center>
  </body>
</html>
